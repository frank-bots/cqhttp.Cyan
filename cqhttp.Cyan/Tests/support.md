#

'''CQ码'''，是指在酷Q Pro / Air 的消息中，以“'''[CQ:'''”开头、“''']'''”结尾的，可以实现特殊功能的代码。

== 结构 ==
CQ码的结构为 [CQ:'''function''','''key'''='''value''','''...''']

其中'''function'''为功能名，'''key'''为参数名，'''value'''为参数值，'''key'''='''value'''称为一组参数。

一个CQ码可以包含零组、一组或多组参数，功能名与每组参数之间用半角逗号“,”分割。

== 规范 ==

* CQ码是'''大小写敏感'''的，使用时请注意大小写。

* 对于不在CQ码内的消息（即文本消息），为了防止解析混淆，需要进行'''转义'''。
 转义规则如下：
 & -> &amp;amp;
 [ -> &amp;#91;
 ] -> &amp;#93;
* CQ码中的'''function'''（功能名）与'''key'''（参数名），仅支持大小写字母、数字、短横线（-）、下划线（_）及点号（.）。
* 对于CQ码中的'''value'''（参数值），为了防止解析混淆，需要进行'''转义'''。
 转义规则如下：
 & -> &amp;amp;
 [ -> &amp;#91;
 ] -> &amp;#93;
 , -> &amp;#44;

== 目前支持的代码 ==

* '''[CQ:face,id={1}]''' - QQ表情
 {1}为0-170的数字
 '''举例：'''[CQ:face,id=14]（发送一个微笑的QQ表情）

* '''[CQ:emoji,id={1}]''' - emoji表情
 {1}为emoji字符的unicode编号
 '''举例：'''[CQ:emoji,id=128513]（发送一个大笑的emoji表情）

* '''[CQ:bface,id={1}]''' - 原创表情
 {1}为该原创表情的ID，存放在酷Q目录的data\bface\下

* '''[CQ:sface,id={1}]''' - 小表情
 {1}为该小表情的ID

* '''[CQ:image,file={1}]''' - 发送自定义图片
 {1}为图片文件名称，图片存放在酷Q目录的data\image\下
 '''举例：'''[CQ:image,file=1.jpg]（发送data\image\1.jpg）

* '''[CQ:record,file={1},magic={2}]''' - 发送语音
 {1}为音频文件名称，音频存放在酷Q目录的data\record\下
 {2}为是否为变声，若该参数为'''true'''则显示变声标记。该参数可被忽略。
 '''举例：'''[CQ:record,file=1.silk，magic=true]（发送data\record\1.silk，并标记为变声）

* '''[CQ:at,qq={1}]''' - @某人
 {1}为被@的群成员QQ。若该参数为'''all'''，则@全体成员（次数用尽或权限不足则会转换为文本）。
 '''举例：'''[CQ:at,qq=123456]

* '''[CQ:rps,type={1}]''' - 发送猜拳魔法表情
 {1}为猜拳结果的类型，暂不支持发送时自定义。该参数可被忽略。
 1 - 猜拳结果为石头
 2 - 猜拳结果为剪刀
 3 - 猜拳结果为布

* '''[CQ:dice,type={1}]''' - 发送掷骰子魔法表情
 {1}对应掷出的点数，暂不支持发送时自定义。该参数可被忽略。

* '''[CQ:shake]''' - 戳一戳（原窗口抖动，仅支持好友消息使用）

* '''[CQ:anonymous,ignore={1}]''' - 匿名发消息（仅支持群消息使用）
 本CQ码需加在消息的开头。
 当{1}为'''true'''时，代表不强制使用匿名，如果匿名失败将转为普通消息发送。
 当{1}为'''false'''或'''ignore'''参数被忽略时，代表强制使用匿名，如果匿名失败将取消该消息的发送。
 '''举例：'''
 [CQ:anonymous,ignore=true]
 [CQ:anonymous]

* '''[CQ:music,type={1},id={2}]''' - 发送音乐
 {1}为音乐平台类型，目前支持qq、163、xiami
 {2}为对应音乐平台的数字音乐id
 '''注意：'''音乐只能作为单独的一条消息发送
 '''举例：'''
 [CQ:music,type=qq,id=422594]（发送一首QQ音乐的“Time after time”歌曲到群内）
 [CQ:music,type=163,id=28406557]（发送一首网易云音乐的“桜咲く”歌曲到群内）

* '''[CQ:music,type=custom,url={1},audio={2},title={3},content={4},image={5}]''' - 发送音乐自定义分享
 {1}为分享链接，即点击分享后进入的音乐页面（如歌曲介绍页）。
 {2}为音频链接（如mp3链接）。
 {3}为音乐的标题，建议12字以内。
 {4}为音乐的简介，建议30字以内。该参数可被忽略。
 {5}为音乐的封面图片链接。若参数为空或被忽略，则显示默认图片。
 '''注意：'''音乐自定义分享只能作为单独的一条消息发送

* '''[CQ:share,url={1},title={2},content={3},image={4}]''' - 发送链接分享
 {1}为分享链接。
 {2}为分享的标题，建议12字以内。
 {3}为分享的简介，建议30字以内。该参数可被忽略。
 {4}为分享的图片链接。若参数为空或被忽略，则显示默认图片。
 '''注意：'''链接分享只能作为单独的一条消息发送
